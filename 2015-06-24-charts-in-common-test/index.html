<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Show Charts in common_test Report</title>

  
  <meta name="author" content="Judd">
  

  <meta name="description" content="common_test is a wonderful framework for tests, and if we can make some charts in its report, things would be even greater. Here is my solution, using Flot. Manipulate HTML Report with Hooks When a suite is started, copy jquery.flot.min.js and jquery.flot.axislabels.js to logdir. When a case is started, inject...">

  

  

  
  <link rel="alternate" type="application/rss+xml" title="码字" href="/feed.xml">
  

  

  

  
<!-- Google Analytics -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-45774748-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  

  

  

  
  <meta property="og:site_name" content="码字">
  <meta property="og:title" content="Show Charts in common_test Report">
  <meta property="og:description" content="common_test is a wonderful framework for tests, and if we can make some charts in its report, things would be even greater. Here is my solution, using Flot. Manipulate HTML Report with Hooks When a suite is started, copy jquery.flot.min.js and jquery.flot.axislabels.js to logdir. When a case is started, inject...">

  
  <meta property="og:image" content="/assets/img/hello_world.jpeg">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Judd">
  <meta property="og:article:published_time" content="2015-06-24T16:20:22+08:00">
  <meta property="og:url" content="/2015-06-24-charts-in-common-test/">
  <link rel="canonical" href="/2015-06-24-charts-in-common-test/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@">
  <meta name="twitter:creator" content="@">

  <meta property="twitter:title" content="Show Charts in common_test Report">
  <meta property="twitter:description" content="common_test is a wonderful framework for tests, and if we can make some charts in its report, things would be even greater. Here is my solution, using Flot. Manipulate HTML Report with Hooks When a suite is started, copy jquery.flot.min.js and jquery.flot.axislabels.js to logdir. When a case is started, inject...">

  
  <meta name="twitter:image" content="/assets/img/hello_world.jpeg">
  

  


  

  

  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
          tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
    });
  </script>

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="">码字</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
        <li class="nav-item">
          <a class="nav-link" id="nav-search-link" href="#" title="Search">
            <span id="nav-search-icon" class="fa fa-search"></span>
            <span id="nav-search-text">Search</span>
          </a>
        </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/hello_world.jpeg" />
        </a>
      </div>
    </div>
  

</nav>



<div id="beautifuljekyll-search-overlay">

  <div id="nav-search-exit" title="Exit search">✕</div>
  <input type="text" id="nav-search-input" placeholder="Search">
  <ul id="search-results-container"></ul>
  
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
  <script>
    var searchjson = '[ \
       \
        { \
          "title"    : "MRC2018 赛后随想", \
          "category" : "nlpai", \
          "url"      : "/2018-06-03-mrc2018-reflections/", \
          "date"     : "June  3, 2018" \
        }, \
       \
        { \
          "title"    : "用 Mathematica 处理引力波数据", \
          "category" : "mathematicasignal", \
          "url"      : "/2016-02-15-mma-on-ligo/", \
          "date"     : "February 15, 2016" \
        }, \
       \
        { \
          "title"    : "Show Charts in common_test Report", \
          "category" : "erlangcommon_testen", \
          "url"      : "/2015-06-24-charts-in-common-test/", \
          "date"     : "June 24, 2015" \
        }, \
       \
        { \
          "title"    : "Introduce LazRadio", \
          "category" : "lazradiolazarusen", \
          "url"      : "/2014-11-21-introduce-lazradio/", \
          "date"     : "November 21, 2014" \
        }, \
       \
        { \
          "title"    : "Design a 3-D Flexagon", \
          "category" : "mathematicaen", \
          "url"      : "/2014-09-22-flexagon/", \
          "date"     : "September 22, 2014" \
        }, \
       \
        { \
          "title"    : "十多年前的一道高中物理题", \
          "category" : "mathematica", \
          "url"      : "/2014-05-26-decade-years-old-problem-answered/", \
          "date"     : "May 26, 2014" \
        }, \
       \
        { \
          "title"    : "压缩感知用于同频信道估计", \
          "category" : "signal", \
          "url"      : "/2014-04-29-compressed-sensing-channel-estimation/", \
          "date"     : "April 29, 2014" \
        }, \
       \
        { \
          "title"    : "北京小客车摇号数据分析", \
          "category" : "erlanglazarussampling", \
          "url"      : "/2014-04-15-beijing-yaohao/", \
          "date"     : "April 15, 2014" \
        }, \
       \
        { \
          "title"    : "A Journey To Good Old Days", \
          "category" : "signalmathematicaen", \
          "url"      : "/2013-12-05-a-journey-to-good-old-days/", \
          "date"     : "December  5, 2013" \
        }, \
       \
       \
        { \
          "title"    : "About me", \
          "category" : "page", \
          "url"      : "/aboutme/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "码字", \
          "category" : "page", \
          "url"      : "/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Tag Index", \
          "category" : "page", \
          "url"      : "/tags/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "码字", \
          "category" : "page", \
          "url"      : "/page2/", \
          "date"     : "January 1, 1970" \
        } \
       \
    ]';
    searchjson = JSON.parse(searchjson);

    var sjs = SimpleJekyllSearch({
      searchInput: document.getElementById('nav-search-input'),
      resultsContainer: document.getElementById('search-results-container'),
      json: searchjson
    });
  </script>
</div>





  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Show Charts in common_test Report</h1>
          

          
            <span class="post-meta">Posted on June 24, 2015</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <p><code class="language-plaintext highlighter-rouge">common_test</code> is a wonderful framework for tests, and if we can make some charts in its report,
things would be even greater.</p>

<p>Here is my solution, using <a href="http://flotcharts.org/">Flot</a>.</p>

<h4 id="manipulate-html-report-with-hooks">Manipulate HTML Report with Hooks</h4>

<ol>
  <li>
    <p>When a suite is started, copy <code class="language-plaintext highlighter-rouge">jquery.flot.min.js</code> and <code class="language-plaintext highlighter-rouge">jquery.flot.axislabels.js</code> to logdir.</p>
  </li>
  <li>
    <p>When a case is started, inject some JavaScript into the HTML log file.</p>
  </li>
</ol>

<div class="language-erlang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">inject_html</span><span class="p">(</span><span class="nv">Html</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nv">Msg</span> <span class="o">=</span> <span class="p">{</span><span class="n">log</span><span class="p">,</span> <span class="n">sync</span><span class="p">,</span> <span class="nf">self</span><span class="p">(),</span> <span class="nb">group_leader</span><span class="p">(),</span> <span class="n">default</span><span class="p">,</span> <span class="o">?</span><span class="nv">STD_IMPORTANCE</span><span class="p">,</span>
	  <span class="p">[{</span><span class="nv">Html</span><span class="p">,[]}]},</span>
    <span class="k">case</span> <span class="nb">whereis</span><span class="p">(</span><span class="n">ct_logs</span><span class="p">)</span> <span class="k">of</span>
	<span class="n">undefined</span> <span class="o">-&gt;</span>
	    <span class="p">{</span><span class="n">error</span><span class="p">,</span><span class="n">does_not_exist</span><span class="p">};</span>
	<span class="p">_</span><span class="nv">Pid</span> <span class="o">-&gt;</span>
	    <span class="n">ct_logs</span> <span class="o">!</span> <span class="nv">Msg</span>
    <span class="k">end</span><span class="p">.</span>

<span class="c">%% @doc Called before init_per_testcase
</span><span class="nf">pre_init_per_testcase</span><span class="p">(</span><span class="nv">TestcaseName</span><span class="p">,</span> <span class="nv">InitData</span><span class="p">,</span> <span class="nl">#state</span><span class="p">{</span><span class="n">graph_code</span> <span class="o">=</span> <span class="nv">Code</span><span class="p">}</span> <span class="o">=</span> <span class="nv">State</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nf">inject_html</span><span class="p">(</span><span class="nb">binary_to_list</span><span class="p">(</span><span class="nv">Code</span><span class="p">)),</span>
    <span class="p">{</span><span class="nv">InitData</span><span class="p">,</span> <span class="nv">State</span><span class="p">}.</span>
</code></pre></div></div>

<p>Here, <code class="language-plaintext highlighter-rouge">graph_code</code> is a master-piece of JS:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"../../../jquery.flot.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"../../../jquery.flot.axislabels.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">var</span> <span class="nx">gid</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">ShowGraph</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">textContent</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">c</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">{</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
    <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">gxxxx</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">gid</span><span class="p">;</span>
    <span class="nx">gid</span><span class="o">++</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">node</span><span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">DIV</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">node</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
    <span class="nx">obj</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">obj</span><span class="p">);</span>
    <span class="nx">obj</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="dl">"</span><span class="s2">60%</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="mi">320</span><span class="p">);</span>

    <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;div style="text-align:center"&gt;&lt;b&gt;</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">x</span><span class="p">.</span><span class="nx">title</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&lt;/b&gt;&lt;/div&gt;</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;div id="</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">"&gt;&lt;/div&gt;</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">g</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="nx">id</span><span class="p">);</span>
    <span class="nx">g</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">plot</span><span class="p">(</span><span class="nx">g</span><span class="p">,</span> <span class="nx">x</span><span class="p">.</span><span class="nx">series</span><span class="p">,</span>
       <span class="p">{</span>
            <span class="na">xaxis</span><span class="p">:</span> <span class="p">{</span> <span class="na">axisLabel</span><span class="p">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">xaxis</span><span class="p">},</span>
            <span class="na">yaxis</span><span class="p">:</span> <span class="p">{</span> <span class="na">axisLabel</span><span class="p">:</span> <span class="nx">x</span><span class="p">.</span><span class="nx">yaxis</span><span class="p">},</span>
            <span class="na">series</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">lines</span><span class="p">:</span> <span class="p">{</span> <span class="na">show</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
                <span class="na">points</span><span class="p">:</span> <span class="p">{</span> <span class="na">show</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
            <span class="p">},</span>
            <span class="na">grid</span><span class="p">:</span> <span class="p">{</span> <span class="na">hoverable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">clickable</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>
       <span class="p">}</span>
    <span class="p">);</span>
    <span class="c1">// ct's CSS is urgly for legend</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.legend table</span><span class="dl">'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">'</span><span class="s1">border</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.legend td</span><span class="dl">'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">'</span><span class="s1">border</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.legend th</span><span class="dl">'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">'</span><span class="s1">border</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">);</span>

    <span class="nx">g</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="dl">"</span><span class="s2">plothover</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">pos</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">datapoint</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
                    <span class="nx">y</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">datapoint</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

                <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#tooltip</span><span class="dl">"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="dl">"</span><span class="s2">(</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">x</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">, </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">)</span><span class="dl">"</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="na">top</span><span class="p">:</span> <span class="nx">item</span><span class="p">.</span><span class="nx">pageY</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="na">left</span><span class="p">:</span> <span class="nx">item</span><span class="p">.</span><span class="nx">pageX</span><span class="o">+</span><span class="mi">5</span><span class="p">})</span>
                    <span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#tooltip</span><span class="dl">"</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">});</span>
<span class="p">}</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
       <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">&lt;div id='tooltip'&gt;&lt;/div&gt;</span><span class="dl">"</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span>
                <span class="na">position</span><span class="p">:</span> <span class="dl">"</span><span class="s2">absolute</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">display</span><span class="p">:</span> <span class="dl">"</span><span class="s2">none</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">border</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1px solid #fdd</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">padding</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2px</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">background-color</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#fee</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">opacity</span><span class="p">:</span> <span class="mf">0.80</span>
            <span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">objs</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div.chart</span><span class="dl">'</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">objs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span><span class="p">)</span> <span class="nx">ShowGraph</span><span class="p">(</span><span class="nx">objs</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">});</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h4 id="emit-charts-in-test-cases">Emit Charts in Test Cases</h4>

<p><code class="language-plaintext highlighter-rouge">ct:log(chart, ?STD_IMPORTANCE, "~s", [Json])</code> will do the job, in which Json is a JSON
representation of the chart (<code class="language-plaintext highlighter-rouge">x</code> in function ShowGraph).</p>


      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#erlang">erlang</a>
          
            <a href="/tags#common_test">common_test</a>
          
            <a href="/tags#en">en</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Show+Charts+in+common_test+Report&url=%2F2015-06-24-charts-in-common-test%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=%2F2015-06-24-charts-in-common-test%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2F2015-06-24-charts-in-common-test%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2014-11-21-introduce-lazradio/" data-toggle="tooltip" data-placement="top" title="Introduce LazRadio">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2016-02-15-mma-on-ligo/" data-toggle="tooltip" data-placement="top" title="用 Mathematica 处理引力波数据">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  
  
  

  


  

  



    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/foldl" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Judd
        &nbsp;&bull;&nbsp;
      
      2022

      

      

      

      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
